<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <link href="../style/overlay.css" rel="stylesheet" type="text/css">
    <script src="https://code.jquery.com/jquery-1.9.1.min.js" integrity="sha256-wS9gmOZBqsqWxgIVgA8Y9WcQOa7PgSIX+rPA0VL2rbQ=" crossorigin="anonymous"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
    <script type="text/javascript">
        var totalWeight;
        var numStairs;
        var distance;
        var palletCount;
        var boxCount;
        var delArea;
        var chokePoint;
        var selectArea = [		["yard", CHARGE_FOR_OUTSIDE_DELIVERY], 
								["house", CHARGE_FOR_HOUSE_DELIVERY], 
								["apartment", CHARGE_FOR_APARTMENT_DELIVERY]];
    	var selectDistance = [	["0 - 15ft", 0], s
								["15 - 30ft", 30], 
								["30 - 50ft", 70], 
								["50+ft", 120]];
        var selectStairs = [	["Flat Surface", 0], 
								["One Storey", 75], 
								["Two Stories", 150]];
        var selectChoke = [		["Less than 48", 100], 
								["Greater than 48", 0]];

const CHARGE_FOR_YARD_DELIVERY = 0;
const CHARGE_FOR_HOUSE_DELIVERY = 100;
const CHARGE_FOR_APARTMENT_DELIVERY = 200;

const CHARGE_FOR_NO_STAIRS = 0;
const CHARGE_FOR_ONE_STORY = 30;
const CHARGE_FOR_TWO_STORIES = 60;
const CHARGE_FOR_THREE_OR_MORE_STORIES = 90;

const CHARGE_FOR_0_TO_30 = 100;
const CHARGE_FOR_30_TO_40 = 80;
const CHARGE_FOR_GREATER_THAN_40 = 0;

const CHARGE_FOR_LESS_THAN_15 = 0;
const CHARGE_FOR_15_TO_30 = 30;
const CHARGE_FOR_30_TO_50 = 60;
const CHARGE_FOR_MORE_THAN_50 = 100;

var finLocation = 0;
var finElevation = 0;
var finWidth = 0;
var finHeight = 0;
var finDistance = 0;
var finTotal = 0;

function locations(){
	var myList=document.getElementById("myList");
	finLocation = myList.options[myList.selectedIndex].value;
	document.getElementById("location").value=finLocation;
}
function elevations(){
	var elevationList=document.getElementById("elevationList");
	finElevation = elevationList.options[elevationList.selectedIndex].value;
	document.getElementById("elevation").value=finElevation;
}
function widths(){
	var widthList=document.getElementById("widthList");
	finWidth = widthList.options[widthList.selectedIndex].value;
	document.getElementById("width").value=finWidth;
}
function distances(){
	var distanceList=document.getElementById("distanceList");
	finDistance = distanceList.options[distanceList.selectedIndex].value;
	document.getElementById("distance").value=finDistance;
}
function calculateLocation(){
	if (finLocation == 0){
		alert("Entry field missing. Please put in a value for location");
	}
	else if (finLocation == 1){
		finTotal += CHARGE_FOR_INSIDE_DELIVERY;
	}
	else if (finLocation == 2){
		finTotal += CHARGE_FOR_OUTSIDE_DELIVERY;
	}
	else if (finLocation == 3){
		finTotal += CHARGE_FOR_BEHIND_DELIVERY;
	}
}
function calculateElevation(){
	if (finElevation == 0){
		alert("Entry field missing. Please put in a value for elevation");
	}
	else if (finElevation == 1){
		finTotal += CHARGE_FOR_NO_STAIRS;
	}
	else if (finElevation == 2){
		finTotal += CHARGE_FOR_ONE_STORY;
	}
	else if (finElevation == 3){
		finTotal += CHARGE_FOR_TWO_STORIES;
	}
	else if (finElevation == 4){
		finTotal += CHARGE_FOR_THREE_OR_MORE_STORIES;
	}
}

function calculateWidth(){
	if (finWidth == 0){
		alert("Entry field missing. Please put in a value for width");
	}
	else if (finWidth == 1){
		finTotal += CHARGE_FOR_0_TO_30;
	}
	else if (finWidth == 2){
		finTotal += CHARGE_FOR_30_TO_40;
	}
	else if (finWidth == 3){
		finTotal += CHARGE_FOR_GREATER_THAN_40;
	}
}

function calculateDistance(){
	if (finDistance == 0){
		alert("Entry field missing. Please put in a value for distance");
	}
	else if (finDistance == 1){
		finTotal += CHARGE_FOR_LESS_THAN_15;
	}
	else if (finDistance == 2){
		finTotal += CHARGE_FOR_15_TO_30;
	}
	else if (finDistance == 3){
		finTotal += CHARGE_FOR_30_TO_50;
	}
	else if (finDistance == 4){
		finTotal += CHARGE_FOR_MORE_THAN_50;
	}
}

function masterCalculate(){
	calculateElevation();
	calculateLocation();
	calculateWidth();
	document.getElementById("finalTotal").textContent= finTotal;
	return false;
}
</script> 	
	
    <script src="../scripts/fetchProduct.js" type="text/javascript"></script>
    <script src="../scripts/calc.js" type="text/javascript"></script>
</head>

<body>
  <!-- Trigger/Open The Modal -->
  <button id="myBtn">Open Modal</button>

  <!-- Hidden inputs for testing -->
  <input type="hidden" id="skuNumber" value="15118251">
  <input type="hidden" id="boxCount" value="3">

  <!-- The Modal -->
  <div id="overlay-container" class="modal">
    <div id="frame">
      <div id="frame-content">
        <div id="content-titlebar">
          <h1>Inside Delivery Wizard</h1>
          <span id="close-button">x</span>
        </div>
        <div id="content-carousel">
          <div class="content-body" id="content0">
            <div class="content-img">
              <img id="picture" src="../images/1.png">
            </div>
            <div class="body-box">
              <h2 class="body-title">Welcome!</h2>
              <p class="body-text">Our Inside Delivery tool will guide you through the steps needed to get an instant delivery quote.
              </p>
              <br>
            </div>
          </div>

          <div class="content-body" id="content1">
            <div class="content-img">
              <img id="picture" src="../images/2.png">
            </div>
            <div class="body-box">
              <h2 class="body-title">About Your Home</h2>
              <p class="body-text">In order to help us customize your Inside Delivery we need some details about the destination.
              </p>
              <br>
              <b class="questions">Outdoor, house, or apartment?</b>
              <div id="house-selctor">
                <label>
                  <input type="radio" name="house-select" value="0" checked="checked"/>
                  <img src="..\images\house-selector\yard.png">
                </label>
                <label>
                  <input type="radio" name="house-select" value="1" />
                  <img src="..\images\house-selector\house.png">
                </label>
                <label>
                  <input type="radio" name="house-select" value="2" />
                  <img src="..\images\house-selector\apartment.png">
                </label>
              </div>
              <br>
              <br>
            </div>
          </div>

          <div class="content-body" id="content2">
            <div class="content-img">
              <img id="picture" src="../images/3.png">
            </div>
            <div class="body-box">
              <h2 class="body-title">Distance Required</h2>
              <p class="body-text">
                What is the walking distance to your drop-off destination?
              </p>
              <br>
              <b class="questions">What is the distance to your location?</b>
              <select id="distanceList">
                <option value="0">Less than 15&#39;</option>
                <option value="1">15&#39; - 30&#39;</option>
                <option value="2">30&#39; - 50&#39;</option>
                <option value="3">More than 50&#39;</option>
              </select>
              <br>
              <br>
            </div>
          </div>

          <div class="content-body" id="content3">
            <div class="content-img">
              <img id="picture" src="../images/4.png">
            </div>
            <div class="body-box">
              <h2 class="body-title">It&#39;s All About the Elevation</h2>
              <p class="body-text">
                No matter the journey, our White Glove service experts will get your goods where they need to go!
              </p>
              <br>
              <b class="questions">What is the elevation of your destination?</b>
              <select id="elevationList">
                <option value="0">No steps or stairs</option>
                <option value="1">One story</option>
                <option value="2">Two stories</option>
                <option value="3">Three or more stories</option>
              </select>
              <br>
              <br>
            </div>
          </div>

          <div class="content-body" id="content4">
            <div class="content-img">
              <img id="picture" src="../images/5.png">
            </div>
            <div class="body-box">
              <h2 class="body-title">The Wiggle Room!</h2>
              <p class="body-text">
                With various shaped product, we need to ensure we can get everything through your doorways.
              </p>
              <br>
              <b class="questions">What is the narrowest space that your shipment has to travel through?</b>
              <select id="widthList">
                <option value="0">Less than 48&#34; wide</option>
                <option value="1">Greater than 48&#34; wide</option>
              </select>
              <br>
              <br>
            </div>
          </div>

          <div class="content-body" id="content5">
            <div class="content-img">
              <img id="picture" src="../images/6.png">
            </div>
            <div class="body-box">
              <h2 class="body-title">We Care About the Details!</h2>
              <p class="body-text">
                Please let us know any additional things that may help our service experts. We will contact you if we have any questions.
              </p>
              <br>
              <!--<b class="questions">What is the narrowest width in your dropoff route?</b>-->
              <br>
              <textarea rows="2" cols="20"></textarea>
              <br>
              <br>
            </div>
          </div>

          <div class="content-body" id="content6">
            <div class="content-img">
              <img id="picture" src="../images/7.png">
            </div>
            <div class="body-box">
              <h2 class="body-title">Your Personalized Quote</h2>
              <p class="body-text">
                Based on our calculations, your Inside Delivery total will be:
              </p>
              <br>
              <h1 id="estimate"></h1>
              <br>
              <b>Thank you for using our White Glover service experts!</b>
              <p id="disclaimer"> *Personalized quote dependent on the accuracy of information provided. Subject to ochange as determined by our Delivery Experts.<p>
              <br>
              <br>
            </div>
          </div>
          <div class="content-body" id="content-spacer">
            <div class="content-img">
              <img id="picture" src="../images/1.png">
            </div>
            <div class="body-box">
              <h2 class="body-title">Black Spacer!</h2>
              <p class="body-text">Black Spacer!
              </p>
              <br>
              <b>Positioning, don&#39;t remove!?</b>
              <select id="heightList" onchange="heights()">
                <option>0</option>
                <option>0</option>
                <option>0</option>
                <option>0</option>
                <option>0</option>
              </select>
            </div>
          </div>
        </div>
      </div>
      <div id="frame-controls">
        <button id="back-button">&lt;&nbsp;Back</button>
        <button id="next-button">Next&nbsp;&gt;</button>
      </div>
    </div>
  </div>

  <script>
    // Get the modal
    var modal = document.getElementById('overlay-container');

    // Get the button that opens the modal
    var btn = document.getElementById("myBtn");

    // Get the <span> element that closes the modal
    var span = document.getElementById("close-button");

    // When the user clicks the button, open the modal
    btn.onclick = function() {
      modal.style.display = "block";
    }

    // When the user clicks on <span> (x), close the modal
    span.onclick = function() {
      modal.style.display = "none";
    }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
      if (event.target == modal) {
        modal.style.display = "none";
      }
    }

    var currentIndex = 0;

    $('#next-button').on('click', function() {
      if (currentIndex == 0) {
        $('#content0').css('display', 'none');
        $('#content1').css('display', 'flex');
        currentIndex++;
      } else if (currentIndex == 1) {
        $('#content1').css('display', 'none');
        $('#content2').css('display', 'flex');
        currentIndex++;
      } else if (currentIndex == 2) {
        $('#content2').css('display', 'none');
        $('#content3').css('display', 'flex');
        currentIndex++;
      } else if (currentIndex == 3) {
        $('#content3').css('display', 'none');
        $('#content4').css('display', 'flex');
        currentIndex++;
      } else if (currentIndex == 4) {
        $('#content4').css('display', 'none');
        $('#content5').css('display', 'flex');
        currentIndex++;
      } else if (currentIndex == 5) {
        $('#content5').css('display', 'none');
        $('#content6').css('display', 'flex');
        currentIndex++;
        fetchProduct();
      } else if (currentIndex == 6) {
        $('#content0').css('display', 'none');
        $('#content1').css('display', 'none');
        $('#content2').css('display', 'none');
        $('#content3').css('display', 'none');
        $('#content4').css('display', 'none');
        $('#content5').css('display', 'none');
        $('#content6').css('display', 'none');
        currentIndex++;
      }
    });

    $('#back-button').on('click', function() {
      if (currentIndex == 0) {
        $('#content0').css('display', 'none');
        $('#content1').css('display', 'none');
        $('#content2').css('display', 'none');
        $('#content3').css('display', 'none');
        $('#content4').css('display', 'none');
        $('#content5').css('display', 'none');
        $('#content6').css('display', 'none');
        currentIndex == 6;
      } else if (currentIndex == 1) {
        $('#content0').css('display', 'flex');
        $('#content1').css('display', 'none');
        currentIndex--;
      } else if (currentIndex == 2) {
        $('#content1').css('display', 'flex');
        $('#content2').css('display', 'none');
        currentIndex--;
      } else if (currentIndex == 3) {
        $('#content2').css('display', 'flex');
        $('#content3').css('display', 'none');
        currentIndex--;
      } else if (currentIndex == 4) {
        $('#content3').css('display', 'flex');
        $('#content4').css('display', 'none');
        currentIndex--;
      } else if (currentIndex == 5) {
        $('#content4').css('display', 'flex');
        $('#content5').css('display', 'none');
        currentIndex--;
      } else if (currentIndex == 6) {
        $('#content5').css('display', 'flex');
        $('#content6').css('display', 'none');
        currentIndex--;
      }
    });

  </script>


</body>

</html>
